{% extends 'profile/base.html' %}
{% block content %}
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // Get all "navbar-burger" elements
            const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

            // Check if there are any navbar burgers
            if ($navbarBurgers.length > 0) {

                // Add a click event on each of them
                $navbarBurgers.forEach(el => {
                    el.addEventListener('click', () => {

                        // Get the target from the "data-target" attribute
                        const target = el.dataset.target;
                        const $target = document.getElementById(target);

                        // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
                        el.classList.toggle('is-active');
                        $target.classList.toggle('is-active');

                    });
                });
            }

        });
    </script>
    <div id="analysisPageContainer"><!---->
        <section class="hero is-primary is-translucent">
            <div class="hero-body">
                <div class="container"><h1 class="title is-3 is-size-4-mobile"><span class="icon mr-1"><i aria-hidden="true" class="slicon slicon-fa-dumbbell"></i></span>
                    <span>{{ lift.exercise.name }}</span></h1>
                    <h2 class="subtitle is-4 is-size-5-mobile"><a><span class="icon"><i aria-hidden="true" class="slicon slicon-fa-calendar-day"></i></span>
                        <span>{{ lift.created_at|date:"d M Y" }}</span></a></h2></div>
            </div>
        </section>
        <section class="section has-background-white">
            <div class="container">
                <div class="columns">
                    <div class="column is-half">
                        <div class="tags are-medium has-addons is-centered"><span class="tag">
              Workoutnote
            </span> <span class="tag is-primary"><span class="stars"><span class="star__full">★★</span><!----><span class="star__empty">★★★</span></span></span> <span class="tag is-primary">
            31%
          </span></div>
                        <nav class="level is-mobile">
                            <div class="level-item has-text-centered">
                                <div>
                                    <div class="heading">Weight</div>
                                    <div class="title">{{ lift.lift_mass }} kg</div>
                                </div>
                            </div>
                            <div class="level-item has-text-centered">
                                <div>
                                    <div class="heading">Reps</div>
                                    <div class="title">{{ lift.repetitions }}</div>
                                </div>
                            </div>
                            <div class="level-item has-text-centered">
                                <div>
                                    <div class="heading">Estimated 1RM</div>
                                    <div class="title">{{ lift.one_rep_max }} kg</div>
                                </div>
                            </div>
                        </nav>
                        <nav class="level is-mobile">
                            <div class="level-item has-text-centered">
                                <div>
                                    <div class="heading">Bodyweight</div>
                                    <div class="title">{{ lift.body_weight }} kg</div>
                                </div>
                            </div>
                            <div class="level-item has-text-centered">
                                <div>
                                    <div class="heading">Bodyweight Ratio</div>
                                    <div class="title">{{ body_weight_ratio }} x</div>
                                </div>
                            </div>
                        </nav>
                        <div class="buttons is-centered"><!----> <a href="/102596-nematjon/2021/06/15" class="button"><span class="icon"><i aria-hidden="true"
                                                                                                                                            class="slicon slicon-fa-calendar-day"></i></span> <span>View Workout</span></a>
                        </div>
                    </div>
                    <div class="column is-half"><h2 class="title is-3 is-size-4-mobile">How did we calculate this?</h2>
                        <div class="content"><h3 class="subtitle is-4 is-size-5-mobile">Step 1 - Compare to all male lifters</h3>
                            <p>
                                We estimated that your <strong>one-rep max is {{ lift.one_rep_max }} kg</strong>
                                as you lifted {{ lift.lift_mass }} kg for {{ lift.repetitions }} repetitions.
                            </p>
                            <p>
                                We then compared you to other
                                male
                                lifters who tested with Workoutnote.
                            </p>
                            <p class="has-text-weight-bold">
                                Result:
                                {% if step1_result %}
                                    stronger than {{ step1_result }}%
                                    <span class="stars"><span class="star__full">★</span><span class="star__half">★</span><span class="star__empty">★★★</span></span></p>
                                {% else %}
                                    Not enough data for bodyweight of {{ lift.body_weight }} kg
                                {% endif %}
                            <h3 class="subtitle is-4 is-size-5-mobile">Step 2 - Adjust for age</h3>
                            <p>
                                At age {{ lift.user.preferences.get_age }} you are at a prime age for lifting and therefore
                                <strong>did not get an age bonus</strong>.
                            </p>
                            <h3 class="subtitle is-4 is-size-5-mobile">Step 3 - Adjust for bodyweight</h3>
                            <p>
                                We then compared you to other lifters at your
                                <strong>bodyweight of {{ rounded_body_weight }} kg</strong>
                                to find your relative strength.
                            </p>
                            <p class="has-text-weight-bold">
                                Result:
                                {% if step3_result %}
                                    stronger than {{ step3_result }}%
                                    <span class="stars"><span class="star__full">★★</span><!----><span class="star__empty">★★★</span></span></p>
                                {% else %}
                                    Not enough data for bodyweight of {{ lift.body_weight }} kg
                                {% endif %}
                            <h3 class="subtitle is-4 is-size-5-mobile">Step 4 - Find Strength Level boundary</h3>

                            {% if step4_result %}
                                <p>
                                    Your Strength Level is <strong>{{ step4_result }}</strong>.
                                </p>
                                <p>
                                    {{ step4_result }} lifters are stronger than at least
                                    {{ step4_lvl_standard_limit }}% of lifters.
                                </p>
                            {% else %}
                                <p>
                                    Sorry, there is no enough data regarding
                                    in our database for people weighing
                                    <strong>{{ rounded_body_weight }} kg</strong>
                                </p>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
{% endblock %}